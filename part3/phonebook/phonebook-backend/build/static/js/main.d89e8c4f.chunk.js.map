{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","Notification","style","message","className","PersonForm","name","onNameChange","number","onNumberChange","onSubmit","type","onClick","Person","person","removePerson","Persons","persons","map","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","filter","setFilter","setPersons","newName","setNewName","newNumber","setNewNumber","setStyle","setMessage","useEffect","personsService","initialPersons","filteredPersons","toLowerCase","includes","event","target","preventDefault","names","indexOf","window","confirm","returnedPerson","p","setTimeout","catch","error","concat","oldName","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d89e8c4f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n    return (\r\n        <div>\r\n            filter shown with&nbsp;\r\n            <input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ style, message }) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\nconst PersonForm = ({ name, onNameChange, number, onNumberChange, onSubmit }) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name:&nbsp;\r\n                <input value={name} onChange={onNameChange} />\r\n            </div>\r\n            <div>\r\n                number:&nbsp;\r\n                <input value={number} onChange={onNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={onSubmit}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Person = ({ person, removePerson }) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number}&nbsp;\r\n            <button onClick={removePerson}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react';\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, removePerson }) => {\r\n    return (\r\n        <div>\r\n        {\r\n            persons.map((person) => \r\n                <Person key={person.name} person={person} removePerson={() => removePerson(person.id)} />\r\n            )\r\n        }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport personsService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [filter, setFilter] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [style, setStyle] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    personsService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  const handleFilterChange = (event) => setFilter(event.target.value)\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const names = persons.map((person) => person.name)\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (names.indexOf(newName) !== -1) {\r\n      const id = persons[names.indexOf(newName)].id\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        personsService\r\n          .update(id, person)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setStyle('success')\r\n            setMessage(`Updated ${newName}'s phone number`)\r\n            setTimeout(() => {\r\n              setStyle('')\r\n              setMessage('')\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setPersons(persons.filter(p => p.id !== id))\r\n            setStyle('error')\r\n            setMessage(`Information of ${newName} has already been removed from server`)\r\n            setTimeout(() => {\r\n              setStyle('')\r\n              setMessage('')\r\n            }, 5000)\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      personsService\r\n        .create(person)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setStyle('success')\r\n          setMessage(`Added ${newName}`)\r\n          setTimeout(() => {\r\n            setStyle('')\r\n            setMessage('')\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setStyle('error')\r\n          setMessage(error.response.data.error)\r\n          setTimeout(() => {\r\n            setStyle('')\r\n            setMessage('')\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const removePerson = (id) => {\r\n    let oldName = persons.find(p => p.id === id).name\r\n    if (window.confirm(`Delete ${oldName}?`)) {\r\n      personsService\r\n      .remove(id)\r\n      .then(returnedPerson => {\r\n        let name = returnedPerson.name\r\n        setPersons(persons.filter(p => p.id !== id))\r\n        setStyle('success')\r\n        setMessage(`Deleted ${oldName}`)\r\n        setTimeout(() => {\r\n          setStyle('')\r\n          setMessage('')\r\n        }, 5000)\r\n      })\r\n      .catch(error => {\r\n        setStyle('error')\r\n        setMessage(error.response.data.error)\r\n        setTimeout(() => {\r\n          setStyle('')\r\n          setMessage('')\r\n        }, 5000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const filteredPersons = persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification style={style} message={message} />\r\n      <Filter value={filter} onChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm name={newName} onNameChange={handleNameChange} number={newNumber} onNumberChange={handleNumberChange} onSubmit={addPerson} />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={filteredPersons} removePerson={removePerson} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}